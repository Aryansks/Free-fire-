<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FF Max Sensi - Extreme Gaming</title>
<style>
body { margin:0; background:#000; color:#fff; font-family:Arial, sans-serif; }
header{display:flex;justify-content:space-between;padding:10px;background:#0a0a0a;border-bottom:2px solid red;}
button{padding:10px 20px;margin:5px;font-size:16px;background:red;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:0.3s;}
button:hover{transform:scale(1.05);}
.hidden{display:none;}
.container{padding:20px;}
h1,h2,h3{color:red;}
.card{background:#111;padding:15px;margin:10px 0;border-radius:8px;border:1px solid #222;transition:0.3s;}
.card:hover{transform:scale(1.02);}
select,input,textarea{padding:8px;border-radius:6px;border:1px solid #222;background:#111;color:#fff;width:100%;}
.animated{animation:pulse 2s infinite;}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}
</style>
</head>
<body>

<header>
<div id="headerUser">Not logged</div>
<div>
<button id="logoutBtn" class="hidden" onclick="logout()">LOGOUT</button>
<button id="cartBtn" class="hidden" onclick="openCart()">üõí Cart</button>
</div>
</header>

<!-- Login -->
<div class="container" id="loginDiv">
<h1>Login</h1>
<input type="text" id="loginUser" placeholder="Enter username">
<button onclick="login()">Login</button>
</div>

<!-- Home -->
<div class="container hidden" id="homeDiv">
<h1>Welcome <span id="uname"></span></h1>
<button onclick="showSensi()">SENSI</button>
<button onclick="showRequests()">REQUESTS</button>
</div>

<!-- SENSI -->
<div class="container hidden" id="sensiDiv">
<h2>Select Company & Model</h2>
<select id="companySelect" onchange="renderModels()"></select><br><br>
<div id="modelList"></div>
<button onclick="backHome()">Back</button>
</div>

<!-- Requests -->
<div class="container hidden" id="requestsDiv">
<h2>My Requests</h2>
<div id="reqList">No requests yet</div>
<button onclick="backHome()">Back</button>
</div>

<!-- Cart -->
<div class="container hidden" id="cartDiv">
<h2>Cart</h2>
<div id="cartList">Cart is empty</div>
<button onclick="cartContinue()">Continue</button>
<button onclick="backHome()">Back</button>
</div>

<!-- Buy Now / Form -->
<div class="container hidden" id="buyFormDiv">
<h2>Buy Now - Fill Form</h2>
<input type="text" id="buyName" placeholder="First Name"><br><br>
<input type="text" id="buyLast" placeholder="Last Name"><br><br>
<input type="text" id="buyUID" placeholder="In-Game UID"><br><br>
<button onclick="sendBuyRequest()">Send Request</button>
<button onclick="backHome()">Cancel</button>
</div>

<!-- Developer Panel -->
<div class="container hidden" id="devDiv">
<h2>Developer Panel</h2>
<h3>Requests</h3>
<div id="devReqList">No requests</div>
<h3>Announcements</h3>
<textarea id="announcementText" placeholder="Type announcement..." style="width:100%;height:60px;"></textarea><br>
<button onclick="sendAnnouncement()">Send Announcement</button>
</div>

<script>
// Phone data
const COMPANIES={
"Xiaomi":["Redmi Note 13 Pro üì±","Redmi Note 13 Pro+ üî•","Mi 12 üåÄ","Mi 11 ‚ö°","Poco X6 Pro üéØ"],
"iPhone":["iPhone 16e üçè","iPhone 15 Pro üåü","iPhone 15","iPhone 14 Pro","iPhone 14"],
"Samsung":["Galaxy S24 Ultra üíé","Galaxy S23 Ultra","Galaxy S23+","Galaxy S23","Galaxy A54"],
"Realme":["Realme GT Neo 6 SE üöÄ","Realme Narzo 60X","Realme 11 Pro"],
"Vivo":["Vivo V27 Pro üåà","Vivo V25","Vivo X90"],
"Oppo":["Oppo Reno 11 üí†","Oppo Find X6","Oppo A77"],
"OnePlus":["OnePlus 12 ‚ö°","OnePlus Nord 3 üåü","OnePlus 11"],
"Infinix":["Infinix Zero Ultra üîπ","Infinix Note 30"],
"Tecno":["Tecno Phantom X üî•","Tecno Camon 20"],
"Huawei":["Huawei P60 Pro üåå","Huawei Mate 50"],
"Asus ROG Phone":["ROG Phone 7 ‚ö°","ROG Phone 6D"],
"Nothing":["Nothing 3a üõ∏","Nothing 2 üí´"]
};

// LocalStorage keys
const LS_REQ='ff_req';
const LS_ANN='ff_ann';
const LS_SENS='ff_sens';
let cart=[];
let currentUser=null;

// Helpers
function lsGet(k,d){try{return JSON.parse(localStorage.getItem(k))||d}catch(e){return d}}
function lsSet(k,v){localStorage.setItem(k,JSON.stringify(v))}

// Login
function login(){
  let u=document.getElementById('loginUser').value.trim();
  if(!u){alert('Enter username'); return;}
  if(u.toUpperCase()==='DEV999'){
    let code=prompt('Enter developer code:');
    if(code!=='devpass'){alert('Wrong code'); return;}
    currentUser={username:'DEV999',role:'dev'};
    document.getElementById('devDiv').classList.remove('hidden');
  } else {
    currentUser={username:u,role:'user'};
  }
  lsSet('ff_user',currentUser);
  afterLogin();
}

// Auto-login
window.onload=function(){
  let u=lsGet('ff_user',null);
  if(u){currentUser=u; afterLogin();}
  populateCompanies();
}

// After login
function afterLogin(){
  document.getElementById('loginDiv').classList.add('hidden');
  document.getElementById('homeDiv').classList.remove('hidden');
  document.getElementById('headerUser').innerText=currentUser.username;
  document.getElementById('logoutBtn').classList.remove('hidden');
  if(currentUser.role==='user'){document.getElementById('cartBtn').classList.remove('hidden'); renderRequests();}
  if(currentUser.role==='dev'){renderDevRequests(); showAnnouncements();}
}

// Logout
function logout(){localStorage.removeItem('ff_user');location.reload();}

// SENSI & Models
function populateCompanies(){
  let sel=document.getElementById('companySelect');
  sel.innerHTML=''; for(let c in COMPANIES){let o=document.createElement('option');o.value=c;o.textContent=c;sel.appendChild(o);}
  renderModels();
}
function renderModels(){
  let comp=document.getElementById('companySelect').value;
  let ml=document.getElementById('modelList'); ml.innerHTML='';
  COMPANIES[comp].forEach(m=>{
    let d=document.createElement('div'); d.className='card'; 
    d.innerHTML=`<strong>${m}</strong><br>
    <button onclick="addToCart('${comp}','${m}')">Add to Cart üõí</button> 
    <button onclick="buyNow('${comp}','${m}')">Buy Now</button>`;
    ml.appendChild(d);
  });
}
function showSensi(){document.getElementById('homeDiv').classList.add('hidden');document.getElementById('sensiDiv').classList.remove('hidden');}
function showRequests(){document.getElementById('homeDiv').classList.add('hidden');document.getElementById('requestsDiv').classList.remove('hidden');renderRequests();}
function backHome(){
  document.getElementById('sensiDiv').classList.add('hidden');
  document.getElementById('requestsDiv').classList.add('hidden');
  document.getElementById('cartDiv').classList.add('hidden');
  document.getElementById('buyFormDiv').classList.add('hidden');
  document.getElementById('homeDiv').classList.remove('hidden');
}

// Cart
function addToCart(comp,model){
  cart.push({company:comp,model:model,status:'pending'});
  alert(model+' added to cart');
}
function openCart(){
  document.getElementById('homeDiv').classList.add('hidden');
  document.getElementById('cartDiv').classList.remove('hidden');
  renderCart();
}
function renderCart(){
  let cl=document.getElementById('cartList');
  cl.innerHTML='';
  if(cart.length===0){cl.innerText='Cart is empty'; return;}
  cart.forEach((c,i)=>{
    let d=document.createElement('div'); d.className='card';
    d.innerHTML=`${c.company} - ${c.model}`;
    cl.appendChild(d);
  });
}
function cartContinue(){

// Buy Now - Direct form
let currentBuyItem=null;
function buyNow(comp,model){
  currentBuyItem={company:comp,model:model};
  document.getElementById('sensiDiv').classList.add('hidden');
  document.getElementById('buyFormDiv').classList.remove('hidden');
}

// Send Buy Now request
function sendBuyRequest(){
  if(!currentBuyItem){alert('No item selected'); return;}
  let fname=document.getElementById('buyName').value.trim();
  let lname=document.getElementById('buyLast').value.trim();
  let uid=document.getElementById('buyUID').value.trim();
  if(!fname||!lname||!uid){alert('Fill all fields'); return;}
  let reqs=lsGet(LS_REQ,[]);
  reqs.unshift({id:Date.now()+Math.random(),user:currentUser.username,company:currentBuyItem.company,model:currentBuyItem.model,
               status:'pending',form:{fname,lname,uid}});
  lsSet(LS_REQ,reqs);
  alert('Request sent successfully!');
  currentBuyItem=null;
  document.getElementById('buyName').value='';
  document.getElementById('buyLast').value='';
  document.getElementById('buyUID').value='';
  backHome();
  renderRequests();
  renderDevRequests();
}

// Cart Continue ‚Üí Form
function cartContinue(){
  if(cart.length===0){alert('Cart is empty'); return;}
  currentBuyItem=null;
  document.getElementById('cartDiv').classList.add('hidden');
  document.getElementById('buyFormDiv').classList.remove('hidden');
}

// Requests - User view
function renderRequests(){
  if(!currentUser||currentUser.role!=='user') return;
  let reqs=lsGet(LS_REQ,[]).filter(r=>r.user===currentUser.username);
  let rl=document.getElementById('reqList'); rl.innerHTML='';
  if(reqs.length===0){rl.innerText='No requests yet'; return;}
  reqs.forEach(r=>{
    let d=document.createElement('div'); d.className='card';
    let sensi='';
    if(r.status==='accepted'){sensi=generateSensi(r.model);}
    d.innerHTML=`${r.company} - ${r.model} <br>Status: ${r.status.toUpperCase()} ${sensi}`;
    rl.appendChild(d);
  });
}

// Device-specific FF Sensitivity (Format B)
function generateSensi(model){
  const sensiValues={
    "Redmi Note 13 Pro üì±":{General:95,RedDot:88,TwoX:80,FourX:75,Sniper:65,FreeLook:90},
    "Redmi Note 13 Pro+ üî•":{General:96,RedDot:89,TwoX:81,FourX:76,Sniper:66,FreeLook:91},
    "Mi 12 üåÄ":{General:94,RedDot:87,TwoX:79,FourX:74,Sniper:64,FreeLook:89},
    "iPhone 16e üçè":{General:97,RedDot:90,TwoX:82,FourX:77,Sniper:67,FreeLook:92},
    "Galaxy S23 Ultra":{General:95,RedDot:88,TwoX:80,FourX:75,Sniper:65,FreeLook:90}
  };
  let s=sensiValues[model]||{General:90,RedDot:85,TwoX:78,FourX:70,Sniper:60,FreeLook:85};
  return `<br><pre>üî• FF MAX PRO SENSITIVITY\nüì± Device: ${model}\nGeneral: ${s.General}\nRed Dot: ${s.RedDot}\n2X Scope: ${s.TwoX}\n4X Scope: ${s.FourX}\nSniper: ${s.Sniper}\nFree Look: ${s.FreeLook}</pre>`;
}

// Developer Panel
function renderDevRequests(){
  if(!currentUser || currentUser.role!=='dev') return;
  let reqs=lsGet(LS_REQ,[]);
  let devrl=document.getElementById('devReqList'); devrl.innerHTML='';
  if(reqs.length===0){devrl.innerText='No requests'; return;}
  reqs.forEach((r,idx)=>{
    let d=document.createElement('div'); d.className='card';
    d.innerHTML=`${r.user} - ${r.company} ${r.model} <br>
    <button onclick="acceptReq(${idx})">Accept</button>
    <button onclick="rejectReq(${idx})">Reject</button>`;
    devrl.appendChild(d);
  });
}

// Accept / Reject
function acceptReq(idx){
  let reqs=lsGet(LS_REQ,[]);
  reqs[idx].status='accepted';
  lsSet(LS_REQ,reqs);
  renderDevRequests();
  renderRequests();
}
function rejectReq(idx){
  let reqs=lsGet(LS_REQ,[]);
  reqs[idx].status='declined'; // only mark as declined for user
  lsSet(LS_REQ,reqs);
  renderDevRequests();
  renderRequests();
}

// Announcements
function sendAnnouncement(){
  let text=document.getElementById('announcementText').value.trim();
  if(!text){alert('Enter message'); return;}
  let anns=lsGet(LS_ANN,[]); anns.unshift({message:text,date:new Date().toLocaleString()}); lsSet(LS_ANN,anns); alert('Announcement sent'); document.getElementById('announcementText').value='';
  showAnnouncements();
}
function showAnnouncements(){
  if(currentUser.role!=='user') return;
  let anns=lsGet(LS_ANN,[]);
  let container=document.createElement('div');
  anns.forEach(a=>{
    let d=document.createElement('div'); d.className='card';
    d.innerHTML=`üì¢ ${a.message} <br><small>${a.date}</small>`;
    container.appendChild(d);
  });
  document.getElementById('homeDiv').appendChild(container);
}

// Contact
document.write('<div class="container"><h3>Contact: <a href="mailto:as7027506@gmail.com" style="color:red;">as7027506@gmail.com</a></h3></div>');

</script>
</body>
</html>
 
