<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FF Max Sensi</title>
<style>
body{margin:0;background:#000;color:#fff;font-family:Arial,sans-serif;transition:0.3s;}
header{display:flex;justify-content:space-between;padding:10px;background:#0a0a0a;border-bottom:3px solid red;}
button{padding:10px 20px;margin:5px;font-size:16px;background:red;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:0.3s;}
button:hover{transform:scale(1.05);}
.hidden{display:none;}
.container{padding:20px;transition:0.3s;}
h1,h2,h3{color:red;}
.card{background:#111;padding:15px;margin:10px 0;border-radius:8px;border:1px solid #222;transition:0.3s;}
.card:hover{transform:scale(1.02);}
select,input,textarea{padding:8px;border-radius:6px;border:1px solid #222;background:#111;color:#fff;width:100%;}
.animated{animation:pulse 2s infinite;}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}
</style>
</head>
<body>
<header>
<div id="headerUser">Not logged</div>
<div>
<button id="logoutBtn" class="hidden" onclick="logout()">LOGOUT</button>
<button id="cartBtn" class="hidden" onclick="openCart()">üõí Cart</button>
</div>
</header>

<!-- Login -->
<div class="container" id="loginDiv">
<h1>Login</h1>
<input type="text" id="loginUser" placeholder="Enter username">
<button onclick="login()">Login</button>
</div>

<!-- Home -->
<div class="container hidden" id="homeDiv">
<h1>Welcome <span id="uname"></span></h1>
<div id="announcements"></div>
<button onclick="showSensi()">SENSI</button>
<button onclick="showRequests()">REQUESTS</button>
</div>

<!-- SENSI -->
<div class="container hidden" id="sensiDiv">
<h2>Select Company & Model</h2>
<select id="companySelect" onchange="renderModels()"></select><br><br>
<div id="modelList"></div>
<button onclick="backHome()">Back</button>
</div>

<!-- Requests -->
<div class="container hidden" id="requestsDiv">
<h2>My Requests</h2>
<div id="reqList">No requests yet</div>
<button onclick="backHome()">Back</button>
</div>

<!-- Buy Now / Form -->
<div class="container hidden" id="buyFormDiv">
<h2>Buy Now - Fill Form</h2>
<input type="text" id="buyName" placeholder="First Name"><br><br>
<input type="text" id="buyLast" placeholder="Last Name"><br><br>
<input type="text" id="buyUID" placeholder="In-Game UID"><br><br>
<button onclick="sendBuyRequest()">Send Request</button>
<button onclick="backHome()">Cancel</button>
</div>

<!-- Cart -->
<div class="container hidden" id="cartDiv">
<h2>Cart</h2>
<div id="cartList">Cart is empty</div>
<button onclick="cartContinue()">Continue</button>
<button onclick="backHome()">Back</button>
</div>

<!-- Developer Panel -->
<div class="container hidden" id="devDiv">
<h2>Developer Panel</h2>
<h3>Requests</h3>
<div id="devReqList">No requests</div>
<h3>Announcements</h3>
<textarea id="announcementText" placeholder="Type announcement..." style="width:100%;height:60px;"></textarea><br>
<button onclick="sendAnnouncement()">Send Announcement</button>
</div>

<script>
// -------------------------
// DATA
// -------------------------
const COMPANIES={
"Xiaomi":["Redmi Note 13 Pro üì±","Redmi Note 13 Pro+ üî•","Mi 12 üåÄ","Mi 11 ‚ö°","Poco X6 Pro üéØ","Redmi 13c","Mi 13 Ultra","Poco F5 GT","Redmi 12","Redmi 12x","Redmi Note 12 Turbo","Redmi 11T","Redmi 10X","Poco X5 Pro","Mi 10T","Mi 9T Pro","Redmi K60","Mi MIX 4","Poco M5","Redmi Note 11 Pro"],
"iPhone":["iPhone 16e üçè","iPhone 15 Pro üåü","iPhone 15","iPhone 14 Pro","iPhone 14","iPhone 13 Pro","iPhone 13","iPhone 12 Pro","iPhone 12","iPhone 11 Pro","iPhone 11","iPhone SE 3","iPad Pro 12.9","iPad Air 5","iPad Mini 6","iPhone XS","iPhone XR","iPhone X","iPhone 8","iPhone 8 Plus"],
"Samsung":["Galaxy S24 Ultra üíé","Galaxy S23 Ultra","Galaxy S23+","Galaxy S23","Galaxy A54","Galaxy A34","Galaxy Z Fold5","Galaxy Z Flip5","Galaxy Note20 Ultra","Galaxy Note10+","Galaxy Tab S8","Galaxy Tab S7","Galaxy A14","Galaxy M14","Galaxy M33","Galaxy S22 Ultra","Galaxy S21 FE","Galaxy S20","Galaxy A13","Galaxy A12"],
"Realme":["Realme GT Neo 6 SE üöÄ","Realme Narzo 60X","Realme 11 Pro","Realme 10","Realme 9 Pro+","Realme 8 Pro","Realme 7i","Realme C55","Realme C31","Realme Narzo 50A","Realme Narzo 30A","Realme X7 Max","Realme X50 Pro","Realme 6 Pro","Realme 5 Pro","Realme 3 Pro","Realme 2 Pro","Realme GT Master","Realme C25","Realme C21Y"],
"Vivo":["Vivo V27 Pro üåà","Vivo V25","Vivo X90","Vivo X80 Pro","Vivo Y100","Vivo Y22s","Vivo Y16","Vivo Y33s","Vivo V21","Vivo V21e","Vivo X70 Pro","Vivo X60","Vivo S1 Pro","Vivo S7t","Vivo V20","Vivo V19","Vivo X50","Vivo Y20s","Vivo Y12s","Vivo Y15s"],
"Oppo":["Oppo Reno 11 üí†","Oppo Find X6","Oppo A77","Oppo F21 Pro","Oppo A17","Oppo Reno 10","Oppo F19 Pro","Oppo A16","Oppo Find X5 Pro","Oppo A54","Oppo A53","Oppo F15","Oppo A12","Oppo A31","Oppo A15s","Oppo A95","Oppo F11","Oppo A92","Oppo A91","Oppo F9"]
};
let currentUser=null;
let requests=JSON.parse(localStorage.getItem('requests'))||[];
let announcements=JSON.parse(localStorage.getItem('announcements'))||[];
let cart=[];

// -------------------------
// FUNCTIONS
// -------------------------
function populateCompanies(){
  const companySelect=document.getElementById('companySelect');
  companySelect.innerHTML='<option value="">Select Company</option>';
  Object.keys(COMPANIES).forEach(c=>{
    const opt=document.createElement('option');
    opt.value=c; opt.innerText=c;
    companySelect.appendChild(opt);
  });
}
function renderModels(){
  const company=document.getElementById('companySelect').value;
  const modelList=document.getElementById('modelList');
  modelList.innerHTML='';
  if(!company) return;
  COMPANIES[company].forEach(model=>{
    const div=document.createElement('div'); div.className='card';
    div.innerHTML=`${model} <br><button onclick="buyNow('${company}','${model}')">Buy Now</button>`;
    modelList.appendChild(div);
  });
}
// -------------------------
// LOGIN & SESSION
// -------------------------
function login(){
    const uname=document.getElementById('loginUser').value.trim();
    if(!uname){alert('Enter username'); return;}
    if(uname.toUpperCase()==='DEV999'){
        const code=prompt('Enter developer code:');
        if(code!=='DEV999CODE'){alert('Wrong developer code'); return;}
        currentUser={name:'DEV999',dev:true};
        localStorage.setItem('user',JSON.stringify(currentUser));
        afterLogin();
    }else{
        currentUser={name:uname,dev:false};
        localStorage.setItem('user',JSON.stringify(currentUser));
        afterLogin();
    }
}
function afterLogin(){
    document.getElementById('loginDiv').classList.add('hidden');
    document.getElementById('homeDiv').classList.remove('hidden');
    document.getElementById('logoutBtn').classList.remove('hidden');
    document.getElementById('cartBtn').classList.remove('hidden');
    document.getElementById('uname').innerText=currentUser.name;
    document.getElementById('headerUser').innerText=currentUser.dev?'Developer':'User';
    populateAnnouncements();
    populateRequests();
    populateCompanies();
    if(currentUser.dev){
        document.getElementById('devDiv').classList.remove('hidden');
    }else{
        document.getElementById('devDiv').classList.add('hidden');
    }
}

// Check session on load
window.onload=function(){
    const user=JSON.parse(localStorage.getItem('user'));
    if(user){currentUser=user; afterLogin();}
};

// LOGOUT
function logout(){
    localStorage.removeItem('user');
    location.reload();
}

// NAVIGATION
function backHome(){
    ['sensiDiv','requestsDiv','buyFormDiv','cartDiv'].forEach(id=>document.getElementById(id).classList.add('hidden'));
    document.getElementById('homeDiv').classList.remove('hidden');
}

// SHOW SENSI
function showSensi(){
    document.getElementById('homeDiv').classList.add('hidden');
    document.getElementById('sensiDiv').classList.remove('hidden');
}

// SHOW REQUESTS
function showRequests(){
    document.getElementById('homeDiv').classList.add('hidden');
    document.getElementById('requestsDiv').classList.remove('hidden');
    populateRequests();
}

// BUY NOW FORM
let selectedCompany='',selectedModel='';
function buyNow(company,model){
    selectedCompany=company;
    selectedModel=model;
    document.getElementById('sensiDiv').classList.add('hidden');
    document.getElementById('buyFormDiv').classList.remove('hidden');
}
function sendBuyRequest(){
    const name=document.getElementById('buyName').value.trim();
    const last=document.getElementById('buyLast').value.trim();
    const uid=document.getElementById('buyUID').value.trim();
    if(!name||!last||!uid){alert('Fill all fields'); return;}
    const req={user:currentUser.name,company:selectedCompany,model:selectedModel,name:name,last:last,uid:uid,status:'Pending'};
    requests.push(req);
    localStorage.setItem('requests',JSON.stringify(requests));
    alert('Request sent to developer');
    document.getElementById('buyFormDiv').classList.add('hidden');
    backHome();
    populateRequests();
    populateDevRequests();
}

// REQUESTS FOR USER
function populateRequests(){
    if(currentUser.dev) return;
    const list=document.getElementById('reqList');
    const userReqs=requests.filter(r=>r.user===currentUser.name);
    if(userReqs.length===0){list.innerHTML='No requests yet'; return;}
    list.innerHTML='';
    userReqs.forEach(r=>{
        const div=document.createElement('div'); div.className='card';
        div.innerHTML=`${r.company} - ${r.model} | Status: ${r.status}`;
        list.appendChild(div);
    });
}

// CART
function openCart(){
    document.getElementById('homeDiv').classList.add('hidden');
    document.getElementById('cartDiv').classList.remove('hidden');
    const cartDiv=document.getElementById('cartList');
    if(cart.length===0){cartDiv.innerHTML='Cart is empty'; return;}
    cartDiv.innerHTML='';
    cart.forEach(c=>{
        const div=document.createElement('div'); div.className='card';
        div.innerHTML=`${c.company} - ${c.model}`;
        cartDiv.appendChild(div);
    });
}
function cartContinue(){alert('Continue to fill form in Buy Now section');}

// DEVELOPER PANEL
function populateDevRequests(){
    if(!currentUser.dev) return;
    const list=document.getElementById('devReqList');
    const pending=requests.filter(r=>r.status==='Pending');
    if(pending.length===0){list.innerHTML='No requests'; return;}
    list.innerHTML='';
    pending.forEach((r,i)=>{
        const div=document.createElement('div'); div.className='card';
        div.innerHTML=`${r.user} | ${r.company} - ${r.model} <br>
        <button onclick="acceptRequest(${i})">Accept</button>
        <button onclick="declineRequest(${i})">Decline</button>`;
        list.appendChild(div);
    });
}
function acceptRequest(i){requests[i].status='Accepted';localStorage.setItem('requests',JSON.stringify(requests));populateDevRequests();}
function declineRequest(i){requests[i].status='Declined';localStorage.setItem('requests',JSON.stringify(requests));populateDevRequests();}

// ANNOUNCEMENTS
function sendAnnouncement(){
    const text=document.getElementById('announcementText').value.trim();
    if(!text){alert('Type announcement'); return;}
    announcements.push(text);
    localStorage.setItem('announcements',JSON.stringify(announcements));
    populateAnnouncements();
}
function populateAnnouncements(){
    const div=document.getElementById('announcements');
    div.innerHTML='';
    announcements.forEach(a=>{
        const p=document.createElement('p'); p.innerText='üì¢ '+a;
        div.appendChild(p);
    });
}
 </script> 
